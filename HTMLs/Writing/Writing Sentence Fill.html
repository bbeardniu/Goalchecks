<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sentence Practice Assessment</title>
<style>
  :root {
    --bg1: #93c5fd;
    --bg2: #fef08a;
    --card: #ffffff;
    --green: #16a34a;
    --red: #dc2626;
    --blue: #2563eb;
    --text: #0f172a;
  }
  html, body {
    height: 100%;
    margin: 0;
    font-family: "Poppins", Arial, sans-serif;
    background: linear-gradient(135deg, var(--bg1), var(--bg2));
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
  }
  .wrap {
    width: 95%;
    max-width: 700px;
    background: var(--card);
    border-radius: 18px;
    padding: 32px;
    box-shadow: 0 8px 24px rgba(2,6,23,0.12);
  }
  h1 {
    margin: 0 0 12px 0;
    color: #1e3a8a;
    font-size: 28px;
  }
  #sentence {
    font-size: 30px;
    line-height: 1.3;
    font-weight: 700;
    color: var(--text);
    margin: 30px 0;
    user-select: none;
  }
  input {
    font-size: 28px;
    padding: 10px;
    border-radius: 10px;
    border: 2px solid var(--blue);
    width: 70%;
    text-align: center;
  }
  .controls {
    display: flex;
    justify-content: center;
    gap: 14px;
    margin-top: 18px;
    flex-wrap: wrap;
  }
  button {
    border: none;
    padding: 12px 22px;
    border-radius: 10px;
    cursor: pointer;
    color: white;
    font-size: 18px;
  }
  .btn-green { background: var(--green); }
  .btn-green:hover { background: #15803d; }
  .btn-red { background: var(--red); }
  .btn-red:hover { background: #c63025; }
  .btn-blue { background: var(--blue); }
  .btn-blue:hover { background: #1e61d4; }
  #feedback { margin-top: 18px; font-weight: 600; font-size: 22px; min-height: 30px; }
  #timer {
    position: fixed;
    bottom: 16px;
    left: 20px;
    background: rgba(255,255,255,0.9);
    padding: 10px 14px;
    border-radius: 10px;
    font-weight: 600;
    color: #334155;
    font-size: 18px;
  }
  #summary {
    display: none;
    margin-top: 18px;
    text-align: left;
    width: 100%;
    padding: 18px;
    border-radius: 10px;
    background: rgba(15,23,42,0.03);
    font-size: 18px;
  }
  .correct { color: var(--green); font-weight: 700; }
  .incorrect { color: var(--red); font-weight: 700; }
  @media (max-width: 480px) {
    #sentence { font-size: 24px; }
    input { font-size: 22px; width: 90%; }
  }
</style>
</head>
<body>
<div class="wrap">
  <h1>Sentence Practice Assessment</h1>
  <div id="sentence" aria-live="polite">Press Start to begin</div>
  <input id="answerInput" placeholder="Type your answer here..." disabled />
  <div class="controls">
    <button class="btn-green" id="startBtn">Start</button>
    <button class="btn-blue" id="nextBtn" disabled>Next</button>
    <button class="btn-red" id="stopBtn">Stop</button>
  </div>
  <div id="feedback" aria-live="polite"></div>
  <div id="summary" aria-live="polite"></div>
</div>
<div id="timer">Time: 0s</div>

<script>
(function(){
  const sentences = [
    "The cat ____ up the tree.",
    "She ____ her lunch at the park.",
    "The rain ____ falling all day.",
    "He ____ the ball over the fence.",
    "The baby ____ when she saw the clown.",
    "They ____ a movie together last night.",
    "The wind ____ through the tall trees.",
    "Mom ____ cookies for the bake sale.",
    "The sun ____ behind the clouds.",
    "The dog ____ loudly at the mailman."
  ];

  let pool = [...sentences];
  let currentSentence = null;
  let answers = [];
  let startTime = null;
  let timerInterval = null;
  let elapsed = 0;

  const sentenceEl = document.getElementById('sentence');
  const inputEl = document.getElementById('answerInput');
  const feedbackEl = document.getElementById('feedback');
  const timerEl = document.getElementById('timer');
  const summaryDiv = document.getElementById('summary');
  const startBtn = document.getElementById('startBtn');
  const nextBtn = document.getElementById('nextBtn');
  const stopBtn = document.getElementById('stopBtn');

  function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a;}

  function startTimer(){
    startTime = Date.now();
    timerInterval = setInterval(()=>{
      elapsed = Math.floor((Date.now() - startTime)/1000);
      timerEl.textContent = `Time: ${elapsed}s`;
    },1000);
  }

  function stopTimer(){ clearInterval(timerInterval); }

  function showSentence(){
    if(pool.length === 0){ sentenceEl.textContent = "No more sentences!"; return; }
    currentSentence = pool.pop();
    sentenceEl.textContent = currentSentence;
    inputEl.value = "";
    inputEl.disabled = false;
    inputEl.focus();
  }

  function startGame(){
    startBtn.disabled = true;
    inputEl.disabled = false;
    nextBtn.disabled = false;
    feedbackEl.textContent = "";
    summaryDiv.style.display = "none";
    pool = shuffle([...sentences]);
    answers = [];
    showSentence();
    startTimer();
  }

  function nextSentence(){
    const response = inputEl.value.trim();
    if(response){
      answers.push({sentence: currentSentence, answer: response, correct: null});
    }
    showSentence();
  }

  function stopGame(){
    stopTimer();
    inputEl.disabled = true;
    nextBtn.disabled = true;
    feedbackEl.textContent = "";
    if(answers.length === 0){
      sentenceEl.textContent = "No responses recorded.";
      return;
    }
    checkAnswers();
  }

  function checkAnswers(){
    summaryDiv.innerHTML = "<h2>Teacher Check</h2><p>Enter 1 for correct, 2 for incorrect.</p>";
    let correctCount = 0;
    let i = 0;
    function promptNext(){
      if(i < answers.length){
        const result = prompt(`Sentence:\n${answers[i].sentence}\nStudent answer: "${answers[i].answer}"\nCorrect (1) or Incorrect (2)?`);
        if(result === "1"){ answers[i].correct = true; correctCount++; }
        else { answers[i].correct = false; }
        i++;
        promptNext();
      } else {
        const percent = Math.round((correctCount / answers.length) * 100);
        let html = `<h2>Results</h2>
          <p><strong>Time:</strong> ${elapsed}s</p>
          <p><strong>Total Answered:</strong> ${answers.length}</p>
          <p><strong>Correct:</strong> ${correctCount}</p>
          <p><strong>Incorrect:</strong> ${answers.length - correctCount}</p>
          <p><strong>Score:</strong> ${percent}%</p><hr>`;
        html += `<div><strong>Responses:</strong></div>`;
        answers.forEach(item=>{
          html += `<div style="margin:4px 0;" class="${item.correct ? 'correct':'incorrect'}">${item.sentence} <em>(${item.answer})</em></div>`;
        });
        summaryDiv.innerHTML = html;
        summaryDiv.style.display = "block";
      }
    }
    promptNext();
  }

  startBtn.addEventListener('click', startGame);
  nextBtn.addEventListener('click', nextSentence);
  stopBtn.addEventListener('click', stopGame);
})();
</script>
</body>
</html>
