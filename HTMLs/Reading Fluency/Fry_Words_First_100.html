<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fry Word Practice</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #93c5fd, #bfdbfe);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    text-align: center;
  }
  h1 {
    color: #1e3a8a;
    margin-bottom: 20px;
  }
  #container {
    background: white;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    width: 90%;
    max-width: 400px;
  }
  #word {
    font-size: 3em;
    margin: 40px 0;
    color: #111827;
  }

  /* TIMER IN TOP LEFT */
  #timer {
    position: fixed;
    top: 10px;
    left: 15px;
    font-size: 1.2em;
    color: #111;
    background: rgba(255,255,255,0.8);
    padding: 6px 10px;
    border-radius: 8px;
    font-weight: bold;
  }

  /* MOBILE BUTTONS */
  .answer-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }
  .answer-buttons button {
    padding: 18px 30px;
    font-size: 1.2em;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    background: #3b82f6;
    color: white;
    width: 45%;
    max-width: 160px;
    touch-action: manipulation;
  }
  .answer-buttons button:active {
    background: #1e40af;
  }

  #resetButton, #stopButton {
    padding: 10px 20px;
    font-size: 1em;
    border: none;
    border-radius: 10px;
    color: white;
    cursor: pointer;
    margin: 10px;
  }
  #resetButton { background-color: #dc2626; }
  #stopButton { background-color: #2563eb; }

  #summary {
    display: none;
    margin-top: 30px;
    text-align: center;
  }
  .correct { color: green; font-weight: bold; }
  .incorrect { color: red; font-weight: bold; }
</style>
</head>
<body>

<h1>Fry Word Practice</h1>

<div id="timer">Time: 0s</div>

<div id="container">
  <div id="word">Press 1, 2, or tap a button to start</div>

  <!-- MOBILE BUTTONS -->
  <div class="answer-buttons">
    <button id="correctBtn">Correct (1)</button>
    <button id="incorrectBtn">Incorrect (2)</button>
  </div>

  <button id="resetButton">Reset</button>
  <button id="stopButton">Stop</button>
  <div id="summary"></div>
</div>

<script>
const fryWords = [
  "the","of","and","a","to","in","is","you","that","it",
  "he","was","for","on","are","as","with","his","they","I",
  "at","be","this","have","from","or","one","had","by","word",
  "but","not","what","all","were","we","when","your","can","said",
  "there","use","an","each","which","she","do","how","their","if",
  "will","up","other","about","out","many","then","them","these","so",
  "some","her","would","make","like","him","into","time","has","look",
  "two","more","write","go","see","number","no","way","could","people",
  "my","than","first","water","been","call","who","oil","its","now",
  "find","long","down","day","did","get","come","made","may","part"
];

let currentIndex = 0;
let correctWords = [];
let incorrectWords = [];
let startTime = null;
let timerInterval = null;

const wordDisplay = document.getElementById("word");
const timerDisplay = document.getElementById("timer");
const summaryDiv = document.getElementById("summary");

function nextWord() {
  if (currentIndex < fryWords.length) {
    wordDisplay.textContent = fryWords[currentIndex];
  } else {
    stopPractice();
  }
}

function startTimer() {
  if (startTime) return; // Prevent double-start

  startTime = Date.now();
  timerInterval = setInterval(() => {
    const elapsed = Math.floor((Date.now() - startTime) / 1000);
    timerDisplay.textContent = `Time: ${elapsed}s`;
  }, 1000);

  nextWord(); // Start showing words immediately
}

function stopTimer() {
  clearInterval(timerInterval);
}

function recordAnswer(isCorrect) {
  if (!startTime) startTimer();

  if (isCorrect) {
    correctWords.push(fryWords[currentIndex]);
  } else {
    incorrectWords.push(fryWords[currentIndex]);
  }
  currentIndex++;
  nextWord();
}

function stopPractice() {
  stopTimer();
  wordDisplay.style.display = "none";
  document.getElementById("stopButton").style.display = "none";

  const total = correctWords.length + incorrectWords.length;
  const percent = total ? Math.round((correctWords.length / total) * 100) : 0;
  const elapsed = Math.floor((Date.now() - startTime) / 1000);

  summaryDiv.innerHTML = `
    <h2>Results</h2>
    <p><strong>Time:</strong> ${elapsed}s</p>
    <p><strong>Total Words:</strong> ${total}</p>
    <p><strong>Correct:</strong> ${correctWords.length}</p>
    <p><strong>Incorrect:</strong> ${incorrectWords.length}</p>
    <p><strong>Score:</strong> ${percent}%</p>
  `;
  summaryDiv.style.display = "block";
}

function resetPractice() {
  stopTimer();
  correctWords = [];
  incorrectWords = [];
  currentIndex = 0;
  summaryDiv.style.display = "none";
  wordDisplay.style.display = "block";
  document.getElementById("stopButton").style.display = "inline-block";
  timerDisplay.textContent = "Time: 0s";
  startTime = null;
  nextWord();
}

/* Keyboard Support */
document.addEventListener("keydown", (event) => {
  if (event.key === "1") recordAnswer(true);
  if (event.key === "2") recordAnswer(false);
});

/* Mobile Button Support */
document.getElementById("correctBtn").onclick = () => recordAnswer(true);
document.getElementById("incorrectBtn").onclick = () => recordAnswer(false);

document.getElementById("resetButton").addEventListener("click", resetPractice);
document.getElementById("stopButton").addEventListener("click", stopPractice);
</script>

</body>
</html>
