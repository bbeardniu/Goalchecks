<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smiley Gumball Machines</title>
<style>
body {
  font-family: 'Comic Sans MS', 'Trebuchet MS', sans-serif;
  background: linear-gradient(#fde68a, #fca5a5);
  text-align: center;
}

h1 {
  font-size: 3em;
  margin-bottom: 20px;
}

.machine-area {
  display: flex;
  justify-content: center;
  gap: 80px;
}

.machine {
  width: 260px;
}

.jar {
  position: relative;
  width: 240px;
  height: 240px;
  border-radius: 50%;
  border: 8px solid #dc2626;
  background: radial-gradient(circle at top, #ffffff, #fef3c7);
  overflow: hidden;
  margin: 0 auto 10px;
}

.smile {
  position: absolute;
  font-size: 32px;
  animation: drop 0.6s ease-in;
}

@keyframes drop {
  from { transform: translateY(-60px); }
  to { transform: translateY(0); }
}

.base {
  width: 120px;
  height: 90px;
  background: #dc2626;
  margin: 0 auto;
  border-radius: 0 0 20px 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.count {
  color: white;
  font-size: 2em;
  font-weight: bold;
}

input {
  width: 90px;
  font-size: 1.2em;
  text-align: center;
}

button {
  margin-top: 6px;
  font-size: 1em;
  cursor: pointer;
}

.fireworks {
  font-size: 3em;
  animation: pop 1s infinite;
}

@keyframes pop {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); }
}
</style>
</head>
<body>

<h1>ðŸ˜Š Smiley Gumball Machines ðŸ˜Š</h1>

<div style="margin-bottom:20px; font-size:1.3em;">
  Show 
  <select id="machineSelect" onchange="updateMachines()">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3" selected>3</option>
  </select>
  gumball machine(s)
</div>

<div class="machine-area" id="machineArea">

  <div class="machine" data-count="0">
    <div class="jar"></div>
    <div class="base"><div class="count">0</div></div>
    <input type="number" placeholder="Smiles" onkeydown="if(event.key==='Enter') addSmiles(this)">
    <br>
    <button onclick="resetMachine(this)">Reset</button>
    <div class="celebrate"></div>
  </div>

  <div class="machine" data-count="0">
    <div class="jar"></div>
    <div class="base"><div class="count">0</div></div>
    <input type="number" placeholder="Smiles" onkeydown="if(event.key==='Enter') addSmiles(this)">
    <br>
    <button onclick="resetMachine(this)">Reset</button>
    <div class="celebrate"></div>
  </div>

  <div class="machine" data-count="0">
    <div class="jar"></div>
    <div class="base"><div class="count">0</div></div>
    <input type="number" placeholder="Smiles" onkeydown="if(event.key==='Enter') addSmiles(this)">
    <br>
    <button onclick="resetMachine(this)">Reset</button>
    <div class="celebrate"></div>
  </div>

</div>

<script>
function addSmiles(input) {
  const machine = input.closest('.machine');
  const jar = machine.querySelector('.jar');
  let count = parseInt(machine.dataset.count);
  const add = parseInt(input.value);
  if (!add || count >= 100) return;

  for (let i = 0; i < add && count < 100; i++) {
    const smile = document.createElement('div');
    smile.className = 'smile';
    smile.textContent = 'ðŸ˜Š';

    const angle = Math.random() * Math.PI * 2;
    const radius = Math.random() * 90;
    smile.style.left = 120 + Math.cos(angle) * radius - 16 + 'px';
    smile.style.top = 200 - (count * 2) + 'px';

    jar.appendChild(smile);
    count++;
  }

  machine.dataset.count = count;
  machine.querySelector('.count').textContent = count;
  input.value = '';

  if (count >= 100) celebrate(machine);
}

function resetMachine(btn) {
  const machine = btn.closest('.machine');
  machine.dataset.count = 0;
  machine.querySelector('.count').textContent = 0;
  machine.querySelector('.jar').innerHTML = '';
  machine.querySelector('.celebrate').innerHTML = '';
}

function celebrate(machine) {
  machine.querySelector('.celebrate').innerHTML = '<div class="fireworks">ðŸŽ†ðŸŽ‡âœ¨</div>';
}

function updateMachines() {
  const count = parseInt(document.getElementById('machineSelect').value);
  const machines = document.querySelectorAll('.machine');

  machines.forEach((machine, index) => {
    machine.style.display = index < count ? 'block' : 'none';
  });
}
</script>

</body>
</html>
