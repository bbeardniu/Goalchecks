<!DOCTYPE html> 
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CVC Word Practice</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #93c5fd, #bfdbfe);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    text-align: center;
  }
  h1 {
    color: #1e3a8a;
    margin-bottom: 20px;
  }
  #container {
    background: white;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    width: 90%;
    max-width: 400px;
  }
  #word {
    font-size: 3em;
    margin: 40px 0;
    color: #111827;
  }
  #timer {
    position: fixed;
    top: 20px; /* moved to top-left */
    left: 20px;
    font-size: 1.2em;
    color: #374151;
    background: rgba(255,255,255,0.8);
    padding: 6px 10px;
    border-radius: 8px;
  }
  #resetButton, #stopButton {
    padding: 10px 20px;
    font-size: 1em;
    border: none;
    border-radius: 10px;
    color: white;
    cursor: pointer;
    margin: 10px;
  }
  #resetButton { background-color: #dc2626; }
  #stopButton { background-color: #2563eb; }
  #summary {
    display: none;
    margin-top: 30px;
    text-align: center;
  }
  .correct { color: green; font-weight: bold; }
  .incorrect { color: red; font-weight: bold; }

  /* Teacher buttons */
  .teacher-buttons {
    position: fixed;
    bottom: 20px;
    width: 100%;
    display: flex;
    justify-content: space-between;
    pointer-events: none;
  }

  .teacher-btn {
    pointer-events: auto;
    border: none;
    padding: 16px 22px;
    font-size: 20px;
    border-radius: 14px;
    color: #fff;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.25);
    margin: 0 20px;
  }

  .teacher-btn.correct { background: green; }
  .teacher-btn.incorrect { background: red; }
</style>
</head>
<body>

<h1>CVC Word Practice</h1>
<div id="container">
  <div id="word">Press 1 or 2 to start</div>
  <button id="resetButton">Reset</button>
  <button id="stopButton">Stop</button>
  <div id="summary"></div>
</div>

<div id="timer">Time: 0s</div>

<!-- Teacher Touch Buttons -->
<div class="teacher-buttons">
  <button class="teacher-btn incorrect" id="btnIncorrect">Incorrect</button>
  <button class="teacher-btn correct" id="btnCorrect">Correct</button>
</div>

<script>
const cvcWords = [
  "cat","dog","hat","pig","sun","cup","bed","pen","top","bug",
  "jam","net","kit","box","man","rug","fox","bat","lid","mop",
  "fin","lip","pan","pot","jet","nap","hen","mud","tag","sit",
  "cap","mat","log","ram","dot","fan","web","cup","bus","pet",
  "dip","zip","wig","rod","bun","ten","cod","pin","hop","van",
  "lip","jam","cub","mix","tab","bed","zip","wag","dig","hut",
  "kit","mat","pod","bun","nut","leg","dip","rag","pot","web",
  "bat","can","cap","lot","pig","pit","net","jog","mud","cot",
  "jam","bug","man","hut","pad","kid","sob","win","rip","bun",
  "pat","lid","ram","fin","rod","van","sip","wig","dot","pet"
];

let currentIndex = 0;
let correctWords = [];
let incorrectWords = [];
let startTime = null;
let timerInterval = null;

const wordDisplay = document.getElementById("word");
const timerDisplay = document.getElementById("timer");
const summaryDiv = document.getElementById("summary");

// Show next word
function nextWord() {
  if (currentIndex < cvcWords.length) {
    wordDisplay.textContent = cvcWords[currentIndex];
  } else {
    stopPractice();
  }
}

// Timer functions
function startTimer() {
  if (startTime) return;
  startTime = Date.now();
  timerInterval = setInterval(() => {
    const elapsed = Math.floor((Date.now() - startTime) / 1000);
    timerDisplay.textContent = `Time: ${elapsed}s`;
  }, 1000);
}

function stopTimer() {
  clearInterval(timerInterval);
}

// Mark word correct or incorrect
function markCorrect() {
  correctWords.push(cvcWords[currentIndex]);
  currentIndex++;
  nextWord();
}

function markIncorrect() {
  incorrectWords.push(cvcWords[currentIndex]);
  currentIndex++;
  nextWord();
}

// Stop practice and show summary
function stopPractice() {
  stopTimer();
  wordDisplay.style.display = "none";
  document.getElementById("stopButton").style.display = "none";

  const total = correctWords.length + incorrectWords.length;
  const percent = total ? Math.round((correctWords.length / total) * 100) : 0;
  const elapsed = Math.floor((Date.now() - startTime) / 1000);

  summaryDiv.innerHTML = `
    <h2>Results</h2>
    <p><strong>Time:</strong> ${elapsed}s</p>
    <p><strong>Total Words:</strong> ${total}</p>
    <p><strong>Correct:</strong> ${correctWords.length}</p>
    <p><strong>Incorrect:</strong> ${incorrectWords.length}</p>
    <p><strong>Score:</strong> ${percent}%</p>
    <h3>Words</h3>
    <div>${correctWords.map(w => `<span class='correct'>${w}</span>`).join(", ")}</div><br>
    <div>${incorrectWords.map(w => `<span class='incorrect'>${w}</span>`).join(", ")}</div>
  `;
  summaryDiv.style.display = "block";
}

// Reset practice
function resetPractice() {
  stopTimer();
  correctWords = [];
  incorrectWords = [];
  currentIndex = 0;
  summaryDiv.style.display = "none";
  wordDisplay.style.display = "block";
  document.getElementById("stopButton").style.display = "inline-block";
  timerDisplay.textContent = "Time: 0s";
  startTime = null;
  startTimer();
  nextWord();
}

// Keyboard support
document.addEventListener("keydown", (event) => {
  startTimer();
  if (event.key === "1") markCorrect();
  else if (event.key === "2") markIncorrect();
});

// Button events
document.getElementById("resetButton").addEventListener("click", resetPractice);
document.getElementById("stopButton").addEventListener("click", stopPractice);
document.getElementById("btnCorrect").addEventListener("click", markCorrect);
document.getElementById("btnIncorrect").addEventListener("click", markIncorrect);

// Start first word & timer on page load
nextWord();
startTimer();
</script>

</body>
</html>
